# Записка
- Введение
    - Почему вообще этим занимаемся: 
        - Навигация нужна везде, роботы пылесосы, алгрохозяйственная техника, логистика.
    - На данный момент фреймворки для навигации имеют недостаток в производительности. 
    - В данном дипломном проекте описано создание модуля навигации для робота который потребляет меньше программных ресурсов что:
        - позволяет использовать освободившиеся программные ресурсы для других задач, такие как передача потокового видео
            - Описать почему быстрая программа лучше чем медленная?
                - Например навигация по глобальной карте которая сразуже находится в памяти у планировщика?
    - Упрощенно: 
        - Задача навигации найти маршрут в нужную точку и выполнить его.
        - Написать почему навигация очень нужна.

- Анализ предметной области
    - Обзор аналогов
        - В основном всё закрытое и мало чего в открытом доступе.
        - Есть ROS который де-факто стандарт и его пакеты.
        - Проблема ROS в его изначально настройке и развёртке
            - Разворачивать можно только на специфичной версии убунты
            - Своя система сборки
            - Из-за особенностей архитектуры, пакеты общаются между собой через
              систему сообщений, пересылая в некоторых моментах огромные объёмы
              данных.
    - Постановка задачи
        - Написать текст который начинается как:
            ""
        - Написать текст, который начинается как:
            "Цель данного дипломного проекта ..."

- Моделирование предметной области и разработка функциональных требований
    - Предметная область
        - У нас есть задача, рассказываем про задачу и подзаачи
    - Функциональные требования

- Проектирование программного средства
    - Будем использовать вот такую архитектуру
% По этой архитектуре будем имплементировать модули
    - Для оценки позиции будем использовать UKF
    - Модуль сканматчинга будет использовать ICP
    - Для глобального планировщика будем использовать A*
    - Для локального планировщика будем использовать DWA

- Конструирование программного средства
    - Разработка
    - Описание разработки каждого модуля

- Тестирование программного средства
    - Для тестирования была разработано ПО для взаимодействия
    - Тестирование модулей
    - Сканматчинг
    - UKF
    - Глобальные модули

    - Интеграционное тестирование
    - Двигаемся в точку
    - Чикибомбони

- Руководство пользователя
    - Установка Rust
    - Запуск проекта
    - Управление через tgui

- [x] Тэо 

- Заключение

- Список использованной литературы
 ...


# Сама работа
- Для передвижения по карте, нужна карта
- Для того чтобы построить карту, можно наложить снимки лидара друг с позицией на которой они были сделаны
    - Чтобы знать позицию на которой они были сделаны, мы используем датчики такие как IMU и GPS.
        - Позиция уточняется с помощью Каллман фильтра.
    - С помощью уточнённой позиции мы можем накладывать сканы на карту.
        - Накладывание скана это нахождение такой жёсткой трансформации (rigid transform),
        которое минимизирует расстояние между точками на текущем снимке лидара и точками взятыми с карты.
            - Накладываение снимка можно произвести с помощью алгоритмов:
                - ICP - самый простой и первоначальный
                - 
    - С помощью наложения скана на карту мы можем найти своё местоположение более точно, и использовать его в Каллман фильтре.
- Так-же можно вообще без IMU и GPS, если просто накладывать позицию на карту, используя жёсткую трансформацию как дельту перемещения и используя её в калман фильтре.

- После построения карты для передвижения в указанную позицию необходимо построить маршрут.
- Для построения маршрута нужно использовать алгоритм поиска пусти
    - Дейкстра
    - А*
Эта задача называется глобальный планировщик (Global planner) в терминах ROS.

После того как у нас есть маршрут нужно по нему проехать. Для этого будем следовать до следующей ближайшей точки маршрута, как только до неё доехали, отмечаём её как пройденную и заново едем в неё пока не доехали.
Эта задача называется локальный планироващик (Local planner) в терминах ROS.
Для этого есть существует ряд алгоритмов:
    - Можно использовать тривиальный, где мы поворачиваемся на целевую точку и едем туда.
    - Можно использовать DWA. (dynamic window approach).
    - Можно использовать TEB. (Timed elastic band).

Готово, мы можем передвигаться в указанную точку, строить и обновлять карту помещения!
